{% load static %}

<!DOCTYPE html>
{#两个block，一个title，一个content#}
{#一个变量，request.user#}
<html lang="en">
<head>
    <title> Home</title>
    <!--meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content=""/>
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!--//meta tags ends here-->
    <!--booststrap-->
    <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet" type="text/css" media="all">
    <!--//booststrap end-->
    <!-- font-awesome icons -->
    <link href="{% static "css/font-awesome.min.css" %}" rel="stylesheet">
    <!-- //font-awesome icons -->
    <!--stylesheets-->
    <link href="{% static "css/base.css" %}" rel="stylesheet">
    <link href="{% static "css/style2.css" %}" rel='stylesheet' type='text/css' media="all">
    <!--//stylesheets-->
    <link href="http://fonts.googleapis.com/css?family=Oswald:400,500,600,700" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">

        <!--  chatbot style -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/botui/build/botui.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/botui/build/botui-theme-default.css" />
    <!--  end of chatbot style -->

</head>
<body>
<!--headder-->
<div class="header-outs inner_page-banner " id="home">
    <div class="headder-top">
        <!-- nav -->
        <nav class="navbar">
            <div class="navbar-brand">
                <h2><a style="color: white;" href="#">UBCO</a></h2>
            </div>
            <label for="drop" class="toggle">Menu</label>
            <input type="checkbox" id="drop">
                <ul class="menu mt-2">
                    <li class="active"><a href="#">Home</a></li>
                    <li class="mx-lg-3 mx-md-2 my-md-0 my-1"><a href="#">Articles</a>
                    </li>
                    <li><a href="#">People</a></li>
                    <li><a href="#">Image</a></li>
                    <li class="mx-lg-3 mx-md-2 my-md-0 my-1">
                        <!-- First Tier Drop Down -->
                        <label for="drop-2" class="toggle toogle-2">Models <span class="fa fa-angle-down"
                                                                                 aria-hidden="true"></span>
                        </label>
                        <a href="#">Models <span class="fa fa-angle-down" aria-hidden="true"></span></a>
                        <input type="checkbox" id="drop-2">
                        <ul>
                            <li><a href="#" class="drop-text">Chatbot</a></li>
                            <li><a href="#" class="drop-text">ML</a></li>
                            <li><a href="#" class="drop-text">DP</a></li>
                        </ul>
                    </li>
                        <li>
                            <a href="#">{{ request.user.first_name }},Dashboard here</a>
                        </li>
                </ul>
        </nav>
        <!-- //nav -->
    </div>
</div>
<!--//header-->
<!-- short -->
<div class="using-border py-3">
    <div class="inner_breadcrumb  ml-4">
        <ul class="short_ls">
            <li>
                <a href="#">Home Page</a>
                <span>/ /</span>
            </li>
            <li>{% block title %}{% endblock %}</li>
        </ul>
    </div>
</div>
<!-- //short-->

{#    content #}
{#    the django message framework is gloabally included and it has incluede the context processor .context_processors.messages that includes the variable <messages>#}
{#    so we can this <messages> variable in amy templates to display existing messages to users, back to views.edit() to check how this work#}
{% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li class="{{ message.tags }}">
                {{ message | safe }}
                <a href="#" class="close">x</a>
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% block content %}
{% endblock %}

{#end of content#}

<!-- footer -->
<footer class="py-lg-3 py-md-2 py-sm-3 py-2">
    <div class="container py-lg-4 py-md-4 py-sm-3 py-3">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-6 footer-bottom-txt">
                <h2><a href="index.html">WHQ</a></h2>
                <p class="pt-lg-4 pt-3">WHQ
                </p>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 footer-bottom-txt">
                <h4>Our Timings</h4>
                <div class="mt-3 footer-hours-list">
                    <ul>
                        <li class="d-flex">Monday-Friday All day</li>
                        <li class="d-flex">Saturday All day</li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6 footer-bottom-txt">
                <h4>Our Address</h4>
                <div class="mt-3 footer-top">
                    <p><span>Address</span> :EME 1212 - 1137 Alumni Ave Kelowna, BC Canada V1V 1V7.</p>
                    <p class="pt-2"><span> Phone</span> :1 250 *** ****</p>
                    <p class="pt-2"><span>Email</span> :<a href="mailto:info@example.com">info@example1.com</a>
                    </p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 col-sm-6 footer-bottom-txt">
                <form class="form-inline mt-2 mt-md-0">
                    <button class="btn btn-outline-success my-2 my-sm-0"><a href="#">Click
                        Here to Search</a></button>
                </form>
            </div>

        </div>
    </div>
</footer>
<!--//footer -->
<!-- footer-copy-write -->
<div class="footer-copy-write py-lg-3 py-md-2 py-sm-3 py-2">
    <div class="container pb-lg-3 pb-2">
        <div class="bottem-txt-footer text-center pt-md-4 pt-3">
            <p>
                Copyright &copy; 2019.UBCO WHQ All Rights Reserved.
            </p>
        </div>
        <!-- move icon -->
        <div class="text-center">
            <a href="#home" class="move-top text-center mt-3"><i class="fa fa-arrow-up" aria-hidden="true"></i></a>
        </div>
        <!--//move icon -->
    </div>
</div>
<!--//footer-copy-write -->


        <!--    start of chatbot js files-->
<script src="https://cdn.jsdelivr.net/vue/latest/vue.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/botui/build/botui.js"></script>
{#end of chatbot js file#}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
<script src=" https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

{% block extra_scripts %}
{% endblock %}

<script>
    {#    basic step is retrieve CSRF token from the csrftoken cookie, then send this token to AJAX request using the x-csrftoken header #}
    var csrftoken = Cookies.get('csrftoken');

    function csrfSafeMethod(method) {
        // these HTTP methods do not require CSRF protection
        return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
    }

    {#before each time send AJAX request, check whether the request method is safe, if safe, set the x-csrftoken header#}
    $.ajaxSetup({
        beforeSend: function (xhr, settings) {
            if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                xhr.setRequestHeader("X-CSRFToken", csrftoken);
            }
        }
    });

    {#can use django template in the jsp, make sure when the whole DOM is loaded, then execute django js block#}
    $(document).ready(function () {
        {% block domready %}
        {% endblock %}
    });
</script>

</body>
</html>